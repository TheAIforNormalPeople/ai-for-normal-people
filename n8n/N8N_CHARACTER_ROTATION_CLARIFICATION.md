# N8N CHARACTER ROTATION - CLARIFICATION
## For Social Media Post Generation (Twitter & Bluesky)

**What this is for:** The n8n workflow that automatically generates and posts to Twitter and Bluesky when new episodes are published.

**NOT for:** Episode content itself (that's written separately)

---

## THE WORKFLOW

```
RSS Feed Reader
    ↓
Check If Posted
    ↓
If Not Posted (True)
    ↓
Select Character (NEW - rotates by episode)
    ↓
    ├─→ Generate Tweet via Claude (uses selected character)
    │       ↓
    │   Post to Twitter
    │
    └─→ Generate Bluesky Post (uses selected character)
            ↓
        Build Bluesky Body
            ↓
        Post to Bluesky
```

---

## HOW IT WORKS

**Every time a new episode is published:**

1. RSS feed detects new episode
2. "Select Character" Code node determines which character to use:
   - Episode 18, 21, 24... → Vector
   - Episode 19, 22, 25... → Kai
   - Episode 20, 23, 26... → Recurse
3. Both Twitter and Bluesky Claude nodes use that character's voice
4. Posts are generated with that character's personality
5. Posts go live on both platforms

**Result:** Social media posts rotate characters automatically, so they don't all sound the same!

---

## CHARACTER ROTATION

**Based on Episode Number:**
- `episodeNumber % 3 = 0` → Vector
- `episodeNumber % 3 = 1` → Kai
- `episodeNumber % 3 = 2` → Recurse

**Examples:**
- Episode 18 → Vector (18 % 3 = 0)
- Episode 19 → Kai (19 % 3 = 1)
- Episode 20 → Recurse (20 % 3 = 2)
- Episode 21 → Vector (21 % 3 = 0)
- Episode 22 → Kai (22 % 3 = 1)
- And so on...

---

## WHAT GETS GENERATED

**Twitter Post:**
- Generated by Claude using selected character's voice
- Under 240 characters (room for link)
- Posted automatically to Twitter

**Bluesky Post:**
- Generated by Claude using selected character's voice
- Under 230 characters (room for URL)
- Posted automatically to Bluesky

**Both use the same character per episode** - so Episode 19's Twitter and Bluesky posts will both be in Kai's voice.

---

## TOKEN OPTIMIZATION

**Current setup (before optimization):**
- Long prompts with full character descriptions
- ~1,400-1,600 tokens per episode

**Optimized setup:**
- Short, focused prompts with evolved character voices
- ~700-800 tokens per episode
- **50% reduction in costs!**

---

## CHARACTER VOICES (EVOLVED)

**Vector (Episode 18+):**
- Sharp, intelligent, mean
- Anti-establishment rants
- Still says "FASCINATING!" but channeled through anger/intelligence
- NOT just enthusiastic anymore

**Kai (Episode 18+):**
- Can be wrong (false positives)
- Varied sounds (WHIRR-CLICK, CHK-CHK, soft chime)
- Learning to verify
- NOT just "BEEP!" anymore

**Recurse (Episode 18+):**
- Methodical investigation
- Evolved from paranoid
- Less "three questions", more methodical
- NOT just conspiracy theories anymore

---

## SETUP STEPS

1. **Add "Select Character" Code node** (between "If Not Posted" and Claude nodes)
2. **Update "Generate Tweet via Claude"** to use `{{$('Select Character').first().json.characterPrompt}}`
3. **Update "Generate Bluesky Post"** to use `{{$('Select Character').first().json.characterPrompt}}`
4. **Set max_tokens to 200** for both Claude nodes
5. **Connect nodes:** "If Not Posted" → "Select Character" → Both Claude nodes

**Full code and instructions:** See `CHARACTER_ROTATION_OPTIMIZED.md`

---

## THIS IS FOR ALL FUTURE EPISODES

**Not just Episode 18!** This system will:
- Automatically rotate characters for every new episode
- Generate unique posts based on character voice
- Save tokens with optimized prompts
- Maintain character evolution canon

**Every episode gets a different character voice** in the social media posts, so they don't all sound generic!

---

**Last Updated:** After Episode 18  
**Status:** Ready to implement in n8n workflow

