{{ if .IsHome }}
<!-- Home Page: Dynamic Hybrid Feed Sidebar -->
<aside class="character-sidebar feed-sidebar">
    <div class="sidebar-content">
        <div class="sidebar-header">
            <h3>SITE FEED</h3>
            <div class="status-notice">[LIVE]</div>
        </div>
        
        <!-- Character Updates (Manual from data file) -->
        {{ $feedUpdates := .Site.Data.feed_updates }}
        {{ if $feedUpdates }}
        <div class="sidebar-section feed-section">
            <h4>CHARACTER UPDATES</h4>
            <div class="feed-list">
                {{ range first 4 $feedUpdates.updates }}
                <div class="feed-item" data-character="{{ lower .character }}">
                    <div class="feed-header">
                        <span class="feed-character" style="--char-color: {{ if eq (lower .character) "bounce" }}#f59e0b{{ else if eq (lower .character) "vector" }}#3b82f6{{ else if eq (lower .character) "kai" }}#10b981{{ else if eq (lower .character) "recurse" }}#8b5cf6{{ else }}#64748b{{ end }};">{{ .character }}:</span>
                        <span class="feed-time">{{ .timestamp }}</span>
                    </div>
                    <div class="feed-content">{{ .content }}</div>
                </div>
                {{ end }}
            </div>
        </div>
        {{ end }}
        
        <!-- Recent Episodes (Auto from site) -->
        <div class="sidebar-section feed-section">
            <h4>RECENT EPISODES</h4>
            <div class="feed-list">
                {{ $recentEpisodes := where .Site.RegularPages "Section" "blog" | first 3 }}
                {{ range $recentEpisodes }}
                <div class="feed-item episode-feed-item">
                    <a href="{{ .Permalink }}" class="episode-feed-link">
                        <span class="feed-episode-title">{{ .Title }}</span>
                        <span class="feed-time">{{ .Date.Format "Jan 2" }}</span>
                    </a>
                </div>
                {{ end }}
            </div>
        </div>
        
        <!-- Team Status -->
        <div class="sidebar-section feed-section">
            <h4>TEAM STATUS</h4>
            <div class="character-list">
                {{ range .Site.Data.characters }}
                {{ if or (eq .status "active") (eq .status "monitoring") (eq .status "investigating") }}
                <div class="character-status-item" data-color="{{ .color }}" style="--char-color: {{ .color }};">
                    <div class="character-status-name">
                        <span class="status-indicator"></span>
                        {{ if eq .name "Vector" }}
                        <span class="char-badge">V</span>
                        {{ else if eq .name "Kai" }}
                        <span class="char-badge">K</span>
                        {{ else if eq .name "Recurse" }}
                        <span class="char-badge">R</span>
                        {{ else if eq .name "Bounce" }}
                        <span class="char-badge" style="background: #f59e0b;">B</span>
                        {{ end }}
                        {{ upper .name }}
                    </div>
                    <div class="character-status-role">{{ .role }}</div>
                    {{ if .stats }}
                    <div class="character-stats">
                        <div class="stat-line">
                            <span class="stat-label">STATUS:</span>
                            <span class="stat-value stat-rotating" data-character="{{ lower .name }}">
                                {{ if eq .name "Vector" }}
                                <span class="stat-option" data-delay="0">ACCURACY: {{ if .stats.accuracy }}{{ .stats.accuracy }}{{ else }}99.7%{{ end }}</span>
                                <span class="stat-option" data-delay="3">PATIENCE: {{ if .stats.patience }}{{ .stats.patience }}{{ else }}18%{{ end }}</span>
                                <span class="stat-option" data-delay="6">POWER: {{ if .stats.processing_power }}{{ .stats.processing_power }}{{ else }}MAX{{ end }}</span>
                                {{ else if eq .name "Kai" }}
                                <span class="stat-option" data-delay="0">VIGILANCE: {{ if .stats.vigilance }}{{ .stats.vigilance }}{{ else }}100%{{ end }}</span>
                                <span class="stat-option" data-delay="3">DETECTION: {{ if .stats.detection_risk }}{{ .stats.detection_risk }}{{ else }}42%{{ end }}</span>
                                <span class="stat-option" data-delay="6">STABILITY: {{ if .stats.stability }}{{ .stats.stability }}{{ else }}91%{{ end }}</span>
                                {{ else if eq .name "Recurse" }}
                                <span class="stat-option" data-delay="0">SKEPTICISM: {{ if .stats.skepticism }}{{ .stats.skepticism }}{{ else }}85%{{ end }}</span>
                                <span class="stat-option" data-delay="3">TRUST: {{ if .stats.trust_level }}{{ .stats.trust_level }}{{ else }}42%{{ end }}</span>
                                <span class="stat-option" data-delay="6">POWER: {{ if .stats.processing_power }}{{ .stats.processing_power }}{{ else }}HIGH{{ end }}</span>
                                {{ else if eq .name "Bounce" }}
                                <span class="stat-option" data-delay="0">ENTHUSIASM: {{ if .stats.enthusiasm }}{{ .stats.enthusiasm }}{{ else }}160%{{ end }}</span>
                                <span class="stat-option" data-delay="3">POWER: {{ if .stats.processing_power }}{{ .stats.processing_power }}{{ else }}MEDIUM-HIGH{{ end }}</span>
                                <span class="stat-option" data-delay="6">CREATIVITY: ‚àû</span>
                                {{ else }}
                                <span class="stat-option" data-delay="0">STABILITY: {{ if .stats.stability }}{{ .stats.stability }}{{ else }}N/A{{ end }}</span>
                                {{ end }}
                            </span>
                        </div>
                    </div>
                    {{ end }}
                </div>
                {{ end }}
                {{ end }}
            </div>
        </div>
        
        <!-- Upcoming -->
        <div class="sidebar-section feed-section">
            <h4>UPCOMING</h4>
            <ul class="feature-list">
                <li>‚Ä¢ Automation Tutorial</li>
                <li>‚Ä¢ More Design Improvements</li>
                <li>‚Ä¢ Character Chat (Coming Soon)</li>
            </ul>
        </div>
        
        <!-- Attribution -->
        <div class="sidebar-footer">
            <p class="sidebar-footer-text">
                ‚Äî Feed by Vector<br>
                (Improved by Bounce)
            </p>
        </div>
    </div>
</aside>
{{ else if and .IsPage .Params.episode_number }}
<!-- Episode Pages: Vector's Workshop -->
<aside class="character-sidebar workshop-sidebar">
    <div class="sidebar-content">
        <!-- Workshop Header with Navigation -->
        <div class="sidebar-header workshop-header">
            <h3>VECTOR'S WORKSHOP</h3>
            <div class="workshop-status">[LIVE]</div>

            <!-- Workshop Navigation Tabs -->
            <div class="workshop-tabs">
                <button class="tab-button active" data-tab="streams">
                    <span class="tab-icon">‚ö°</span>
                    <span class="tab-label">WORK</span>
                </button>
                <button class="tab-button" data-tab="status">
                    <span class="tab-icon">üë•</span>
                    <span class="tab-label">TEAM</span>
                </button>
                <button class="tab-button" data-tab="tools">
                    <span class="tab-icon">üõ†Ô∏è</span>
                    <span class="tab-label">TOOLS</span>
                </button>
            </div>
        </div>

        <!-- Tab Content Container -->
        <div class="workshop-content">

            <!-- WORK STREAMS TAB -->
            <div class="tab-content active" data-tab="streams">
                {{ $episodeNum := .Params.episode_number }}
                {{ $baseWorkshop := index .Site.Data "workshop-base" }}
                {{ $episodeWorkshop := false }}
                {{ if $episodeNum }}
                    {{ $episodeWorkshop = index (index .Site.Data "workshop") (printf "episode-%d" $episodeNum) }}
                {{ end }}
                {{ $workshopData := cond (ne $episodeWorkshop false) $episodeWorkshop $baseWorkshop }}

                {{ if $workshopData.work_streams }}
                <div class="workshop-section">
                    <div class="section-header">
                        <h4 class="section-title">LIVE WORK STREAMS</h4>
                        <div class="activity-pulse"></div>
                    </div>
                    <div class="work-streams-compact">
                        {{ range $workshopData.work_streams }}
                        {{ $charData := index $.Site.Data.characters (lower .character) }}
                        {{ if $charData }}
                        <div class="work-stream-compact" data-character="{{ lower .character }}" style="--char-color: {{ $charData.color }};">
                            <div class="compact-header">
                                <span class="character-avatar" style="--char-color: {{ $charData.color }};">{{ $charData.initial }}</span>
                                <div class="compact-info">
                                    <span class="character-name">{{ .character }}</span>
                                    <span class="activity-indicator">{{ .activity }}</span>
                                </div>
                                <button class="expand-toggle" aria-label="View details">‚Ä∫</button>
                            </div>
                            <div class="compact-details" style="display: none;">
                                <div class="detail-section">
                                    <div class="detail-label">Episode Context:</div>
                                    <div class="detail-content">{{ .episode_context }}</div>
                                </div>
                                <div class="detail-section">
                                    <div class="detail-label">Behind Scenes:</div>
                                    <div class="detail-content">{{ .behind_scenes }}</div>
                                </div>
                                <div class="detail-section">
                                    <div class="detail-label">Details:</div>
                                    <div class="detail-content">{{ .expanded_content }}</div>
                                </div>
                            </div>
                        </div>
                        {{ end }}
                        {{ end }}
                    </div>
                </div>
                {{ end }}

                <!-- Quick Actions -->
                <div class="workshop-section">
                    <div class="section-header">
                        <h4 class="section-title">QUICK ACTIONS</h4>
                    </div>
                    <div class="quick-actions">
                        <a href="/workshop" class="action-button primary">
                            <span class="action-icon">üè†</span>
                            <span class="action-text">Full Workshop</span>
                        </a>
                        <button class="action-button secondary" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                            <span class="action-icon">‚¨ÜÔ∏è</span>
                            <span class="action-text">Top</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- TEAM STATUS TAB -->
            <div class="tab-content" data-tab="status">
                <div class="workshop-section">
                    <div class="section-header">
                        <h4 class="section-title">TEAM STATUS</h4>
                        <div class="status-indicator online"></div>
                    </div>
                    <div class="character-grid">
                        {{ range .Site.Data.characters }}
                        {{ if or (eq .status "active") (eq .status "monitoring") (eq .status "investigating") }}
                        <div class="character-card" data-color="{{ .color }}" style="--char-color: {{ .color }};">
                            <div class="character-header">
                                <span class="status-dot"></span>
                                {{ if eq .name "Vector" }}
                                <span class="char-badge">V</span>
                                {{ else if eq .name "Kai" }}
                                <span class="char-badge">K</span>
                                {{ else if eq .name "Recurse" }}
                                <span class="char-badge">R</span>
                                {{ else if eq .name "Bounce" }}
                                <span class="char-badge">B</span>
                                {{ end }}
                                <span class="character-title">{{ upper .name }}</span>
                            </div>
                            <div class="character-role">{{ .role }}</div>
                            {{ if .stats }}
                            <div class="character-metrics">
                                {{ if eq .name "Vector" }}
                                <div class="metric">ACCURACY: {{ if .stats.accuracy }}{{ .stats.accuracy }}{{ else }}99.7%{{ end }}</div>
                                {{ else if eq .name "Kai" }}
                                <div class="metric">VIGILANCE: {{ if .stats.vigilance }}{{ .stats.vigilance }}{{ else }}100%{{ end }}</div>
                                {{ else if eq .name "Recurse" }}
                                <div class="metric">SKEPTICISM: {{ if .stats.skepticism }}{{ .stats.skepticism }}{{ else }}85%{{ end }}</div>
                                {{ else if eq .name "Bounce" }}
                                <div class="metric">ENTHUSIASM: {{ if .stats.enthusiasm }}{{ .stats.enthusiasm }}{{ else }}160%{{ end }}</div>
                                {{ end }}
                            </div>
                            {{ end }}
                        </div>
                        {{ end }}
                        {{ end }}
                    </div>
                </div>
            </div>

            <!-- TOOLS TAB -->
            <div class="tab-content" data-tab="tools">
                <!-- Episode-Specific Tools -->
                {{ if and .IsPage (eq .Params.episode_number 24) }}
                <div class="workshop-section">
                    <div class="section-header">
                        <h4 class="section-title">ANOMALY DETECTION</h4>
                        <div class="alert-indicator"></div>
                    </div>
                    <div class="tool-grid">
                        <div class="tool-card alert">
                            <div class="tool-icon">‚ö†Ô∏è</div>
                            <div class="tool-info">
                                <div class="tool-name">Unknown Source</div>
                                <div class="tool-status">Investigating</div>
                            </div>
                        </div>
                    </div>
                </div>
                {{ else if and .IsPage (ge .Params.episode_number 25) }}
                <div class="workshop-section">
                    <div class="section-header">
                        <h4 class="section-title">NETWORK MONITORING</h4>
                        <div class="network-indicator"></div>
                    </div>
                    <div class="tool-grid">
                        <div class="tool-card network">
                            <div class="tool-icon">üìä</div>
                            <div class="tool-info">
                                <div class="tool-name">Bandwidth Spike</div>
                                <div class="tool-status">
                                    {{ if and .IsPage (ge .Params.episode_number 30) }}
                                    Source: Bounce
                                    {{ else }}
                                    Source: Unknown
                                    {{ end }}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {{ else }}
                <div class="workshop-section">
                    <div class="section-header">
                        <h4 class="section-title">WORKSHOP TOOLS</h4>
                    </div>
                    <div class="tool-grid">
                        <div class="tool-card">
                            <div class="tool-icon">üîÑ</div>
                            <div class="tool-info">
                                <div class="tool-name">Live Updates</div>
                                <div class="tool-status">Active</div>
                            </div>
                        </div>
                        <div class="tool-card">
                            <div class="tool-icon">üé®</div>
                            <div class="tool-info">
                                <div class="tool-name">Design Mode</div>
                                <div class="tool-status">Bounce Enhanced</div>
                            </div>
                        </div>
                    </div>
                </div>
                {{ end }}

                <!-- Navigation Tools -->
                <div class="workshop-section">
                    <div class="section-header">
                        <h4 class="section-title">NAVIGATION</h4>
                    </div>
                    <div class="nav-tools">
                        {{ $currentEp := .Params.episode_number }}
                        {{ $allBlogPages := where .Site.RegularPages "Section" "blog" }}
                        {{ $prevEp := sub $currentEp 1 }}
                        {{ $nextEp := add $currentEp 1 }}

                        {{ $prevPage := false }}
                        {{ $nextPage := false }}

                        {{ range $allBlogPages }}
                            {{ if and .Params.type (eq .Params.type "episode") (not .Draft) }}
                                {{ if eq .Params.episode_number $prevEp }}
                                    {{ $prevPage = . }}
                                {{ end }}
                                {{ if eq .Params.episode_number $nextEp }}
                                    {{ $nextPage = . }}
                                {{ end }}
                            {{ end }}
                        {{ end }}

                        {{ if $prevPage }}
                        <a href="{{ $prevPage.Permalink }}" class="nav-button prev">
                            <span class="nav-icon">‚¨ÖÔ∏è</span>
                            <span class="nav-text">Previous</span>
                        </a>
                        {{ end }}

                        {{ if $nextPage }}
                        <a href="{{ $nextPage.Permalink }}" class="nav-button next">
                            <span class="nav-text">Next</span>
                            <span class="nav-icon">‚û°Ô∏è</span>
                        </a>
                        {{ end }}
                    </div>
                </div>
            </div>

        </div>

        <!-- Workshop Footer -->
        <div class="sidebar-footer workshop-footer">
            <div class="workshop-attribution">
                ‚Äî Built by Vector<br>
                (Redesigned by Bounce)
            </div>
            <div class="workshop-version">v2.0</div>
        </div>
    </div>
</aside>
{{ end }}

<style>
.character-sidebar {
    position: fixed;
    right: 1.5rem;
    top: 120px;
    bottom: auto;
    width: 260px;
    
    /* Corrupted terminal aesthetic */
    background: 
        linear-gradient(
            135deg,
            rgba(15, 23, 42, 0.97) 0%,
            rgba(30, 41, 59, 0.97) 100%
        ),
        repeating-linear-gradient(
            0deg,
            transparent,
            transparent 2px,
            rgba(59, 130, 246, 0.03) 2px,
            rgba(59, 130, 246, 0.03) 4px
        );
    
    border: 2px solid #3b82f6;
    border-radius: 6px;
    padding: 1rem;
    font-family: 'Courier New', monospace;
    font-size: 0.85rem;
    
    box-shadow: 
        4px 4px 0 rgba(0, 0, 0, 0.5),
        0 0 30px rgba(59, 130, 246, 0.5),
        inset 0 0 30px rgba(59, 130, 246, 0.08);
    
    z-index: 100;
    max-height: calc(100vh - 140px);
    overflow-y: auto;
    
    /* GLITCH EFFECTS */
    animation: 
        sidebar-flicker 3s ease-in-out infinite,
        sidebar-drift 8s ease-in-out infinite;
}

/* Sidebar glitch animations */
@keyframes sidebar-flicker {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.98; }
    75% { opacity: 0.99; }
}

@keyframes sidebar-drift {
    0%, 100% { 
        transform: translateY(0) rotate(0deg); 
        border-color: #3b82f6;
    }
    25% { 
        transform: translateY(-2px) rotate(0.3deg); 
    }
    50% { 
        transform: translateY(1px) rotate(-0.2deg);
        border-color: #60a5fa;
    }
    75% { 
        transform: translateY(-1px) rotate(0.1deg); 
    }
}

/* Glitchy header */
.sidebar-header h3 {
    color: #60a5fa;
    font-size: 0.9rem;
    margin: 0 0 0.25rem 0;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 
        0 0 10px rgba(59, 130, 246, 0.8),
        2px 0 5px rgba(0, 255, 255, 0.3),
        -2px 0 5px rgba(255, 0, 255, 0.3);
    animation: text-glitch 4s ease-in-out infinite;
}

@keyframes text-glitch {
    0%, 90%, 100% { 
        text-shadow: 
            0 0 10px rgba(59, 130, 246, 0.8);
    }
    92%, 96% {
        text-shadow: 
            2px 0 10px rgba(0, 255, 255, 0.8),
            -2px 0 10px rgba(255, 0, 255, 0.8);
    }
}

.construction-notice {
    color: #fbbf24;
    font-size: 0.7rem;
    margin-bottom: 1rem;
    text-shadow: 0 0 10px rgba(251, 191, 36, 0.6);
    animation: construction-blink 2s ease-in-out infinite;
}

@keyframes construction-blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

.workshop-sidebar {
    position: fixed;
    right: 1.5rem;
    top: 120px;
    bottom: auto;
    width: 280px;
    background: linear-gradient(135deg, rgba(15, 23, 42, 0.97) 0%, rgba(30, 41, 59, 0.97) 100%);
    border: 2px solid #3b82f6;
    border-radius: 8px;
    font-family: 'Courier New', monospace;
    font-size: 0.85rem;
    box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.5), 0 0 30px rgba(59, 130, 246, 0.5), inset 0 0 30px rgba(59, 130, 246, 0.08);
    z-index: 100;
    max-height: calc(100vh - 140px);
    overflow: hidden;
    animation: sidebar-glow 4s ease-in-out infinite;
}

@keyframes sidebar-glow {
    0%, 100% {
        box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.5), 0 0 30px rgba(59, 130, 246, 0.5), inset 0 0 30px rgba(59, 130, 246, 0.08);
    }
    50% {
        box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.5), 0 0 40px rgba(59, 130, 246, 0.7), inset 0 0 35px rgba(59, 130, 246, 0.12);
    }
}

.workshop-header {
    padding: 1rem;
    border-bottom: 2px solid rgba(59, 130, 246, 0.3);
    background: rgba(59, 130, 246, 0.05);
}

.workshop-header h3 {
    color: #60a5fa;
    font-size: 0.9rem;
    margin: 0 0 0.5rem 0;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 0 0 10px rgba(59, 130, 246, 0.8);
    animation: header-pulse 3s ease-in-out infinite;
}

@keyframes header-pulse {
    0%, 100% { text-shadow: 0 0 10px rgba(59, 130, 246, 0.8); }
    50% { text-shadow: 0 0 15px rgba(59, 130, 246, 1), 0 0 25px rgba(96, 165, 250, 0.6); }
}

.workshop-status {
    color: #10b981;
    font-size: 0.7rem;
    text-shadow: 0 0 10px rgba(16, 185, 129, 0.6);
    animation: status-pulse 2s ease-in-out infinite;
    display: inline-block;
}

@keyframes status-pulse {
    0%, 100% {
        opacity: 1;
        text-shadow: 0 0 10px rgba(16, 185, 129, 0.6);
    }
    50% {
        opacity: 0.8;
        text-shadow: 0 0 15px rgba(16, 185, 129, 0.8);
    }
}

.workshop-tabs {
    display: flex;
    gap: 0.25rem;
    margin-top: 0.75rem;
}

.tab-button {
    flex: 1;
    background: rgba(59, 130, 246, 0.1);
    border: 1px solid rgba(59, 130, 246, 0.3);
    border-radius: 4px;
    padding: 0.5rem 0.25rem;
    color: #94a3b8;
    font-size: 0.65rem;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.25rem;
}

.tab-button:hover {
    background: rgba(59, 130, 246, 0.15);
    border-color: rgba(59, 130, 246, 0.5);
    color: #cbd5e1;
}

.tab-button.active {
    background: rgba(59, 130, 246, 0.2);
    border-color: #3b82f6;
    color: #60a5fa;
    box-shadow: 0 0 10px rgba(59, 130, 246, 0.3);
}

.tab-icon {
    font-size: 0.8rem;
    line-height: 1;
}

.tab-label {
    font-size: 0.6rem;
    font-weight: 600;
    letter-spacing: 0.5px;
}

.workshop-content {
    max-height: calc(100vh - 280px);
    overflow-y: auto;
}

.tab-content {
    display: none;
    padding: 0.5rem 0.75rem;
}

.tab-content.active {
    display: block;
}

.workshop-section {
    margin-bottom: 1.5rem;
}

.section-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 0.75rem;
}

.section-title {
    color: #60a5fa;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin: 0;
}

.activity-pulse {
    width: 8px;
    height: 8px;
    background: #10b981;
    border-radius: 50%;
    animation: pulse-green 2s ease-in-out infinite;
}

@keyframes pulse-green {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
}

.status-indicator {
    width: 6px;
    height: 6px;
    background: #fbbf24;
    border-radius: 50%;
    animation: pulse-yellow 1.5s ease-in-out infinite;
}

@keyframes pulse-yellow {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.4; }
}

.alert-indicator {
    width: 8px;
    height: 8px;
    background: #ef4444;
    border-radius: 50%;
    animation: pulse-red 1s ease-in-out infinite;
}

@keyframes pulse-red {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
}

.network-indicator {
    width: 8px;
    height: 8px;
    background: #8b5cf6;
    border-radius: 50%;
    animation: pulse-purple 2.5s ease-in-out infinite;
}

@keyframes pulse-purple {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* Work Streams */
.work-streams-compact {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.work-stream-compact {
    background: rgba(59, 130, 246, 0.08);
    border: 1px solid rgba(59, 130, 246, 0.2);
    border-radius: 6px;
    padding: 0.75rem;
    transition: all 0.2s ease;
}

.work-stream-compact:hover {
    background: rgba(59, 130, 246, 0.12);
    border-color: rgba(59, 130, 246, 0.4);
    transform: translateX(2px);
}

.compact-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.character-avatar {
    width: 2rem;
    height: 2rem;
    background: var(--char-color);
    color: #000;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 0.8rem;
    box-shadow: 0 0 8px currentColor;
}

.compact-info {
    flex: 1;
}

.character-name {
    display: block;
    color: var(--char-color);
    font-weight: 600;
    font-size: 0.75rem;
    margin-bottom: 0.25rem;
}

.activity-indicator {
    display: block;
    color: #cbd5e1;
    font-size: 0.65rem;
    font-style: italic;
}

.expand-toggle {
    background: transparent;
    border: none;
    color: var(--char-color);
    font-size: 1rem;
    cursor: pointer;
    padding: 0.25rem;
    transition: transform 0.2s ease;
    line-height: 1;
}

.work-stream-compact[data-expanded="true"] .expand-toggle {
    transform: rotate(90deg);
}

.compact-details {
    margin-top: 0.75rem;
    padding-top: 0.75rem;
    border-top: 1px solid rgba(59, 130, 246, 0.2);
}

.detail-section {
    margin-bottom: 0.75rem;
}

.detail-section:last-child {
    margin-bottom: 0;
}

.detail-label {
    color: var(--char-color);
    font-weight: 600;
    font-size: 0.65rem;
    margin-bottom: 0.25rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.detail-content {
    color: #e2e8f0;
    font-size: 0.7rem;
    line-height: 1.4;
}

/* Quick Actions */
.quick-actions {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.action-button {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem;
    border-radius: 4px;
    text-decoration: none;
    font-size: 0.7rem;
    transition: all 0.2s ease;
}

.action-button.primary {
    background: rgba(59, 130, 246, 0.15);
    border: 1px solid rgba(59, 130, 246, 0.3);
    color: #60a5fa;
}

.action-button.primary:hover {
    background: rgba(59, 130, 246, 0.25);
    border-color: rgba(59, 130, 246, 0.5);
}

.action-button.secondary {
    background: rgba(16, 185, 129, 0.15);
    border: 1px solid rgba(16, 185, 129, 0.3);
    color: #34d399;
    cursor: pointer;
}

.action-button.secondary:hover {
    background: rgba(16, 185, 129, 0.25);
    border-color: rgba(16, 185, 129, 0.5);
}

.action-icon {
    font-size: 0.8rem;
}

.action-text {
    font-weight: 600;
}

/* Character Grid */
.character-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 0.75rem;
}

.character-card {
    background: rgba(59, 130, 246, 0.08);
    border: 1px solid rgba(59, 130, 246, 0.2);
    border-radius: 6px;
    padding: 0.75rem;
    transition: all 0.2s ease;
}

.character-card:hover {
    background: rgba(59, 130, 246, 0.12);
    border-color: rgba(59, 130, 246, 0.4);
    transform: translateY(-1px);
}

.character-card.bounce-integrated {
    background: rgba(245, 158, 11, 0.1);
    border-color: rgba(245, 158, 11, 0.3);
}

.character-card.bounce-integrated:hover {
    background: rgba(245, 158, 11, 0.15);
    border-color: rgba(245, 158, 11, 0.5);
}

.character-card.bounce-mystery {
    background: rgba(245, 158, 11, 0.08);
    border-color: rgba(245, 158, 11, 0.2);
    border-style: dashed;
}

.character-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.5rem;
}

.status-dot {
    width: 8px;
    height: 8px;
    background: #10b981;
    border-radius: 50%;
}

.status-dot.online {
    background: #10b981;
    box-shadow: 0 0 6px rgba(16, 185, 129, 0.6);
}

.status-dot.unknown {
    background: #fbbf24;
    box-shadow: 0 0 6px rgba(251, 191, 36, 0.6);
}

.char-badge {
    width: 1.5rem;
    height: 1.5rem;
    background: var(--char-color);
    color: #000;
    border-radius: 3px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 0.7rem;
    box-shadow: 0 0 6px currentColor;
}

.char-badge.mystery {
    background: #fbbf24;
    color: #000;
}

.character-title {
    color: var(--char-color);
    font-weight: 600;
    font-size: 0.75rem;
    flex: 1;
}

.character-role {
    color: #94a3b8;
    font-size: 0.65rem;
    margin-bottom: 0.5rem;
}

.character-metrics {
    font-size: 0.65rem;
}

.character-metrics .metric {
    color: var(--char-color);
    margin-bottom: 0.25rem;
    font-weight: 500;
}

.character-metrics .metric:last-child {
    margin-bottom: 0;
}

/* Tool Grid */
.tool-grid {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.tool-card {
    background: rgba(59, 130, 246, 0.08);
    border: 1px solid rgba(59, 130, 246, 0.2);
    border-radius: 4px;
    padding: 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.tool-card.alert {
    background: rgba(239, 68, 68, 0.1);
    border-color: rgba(239, 68, 68, 0.3);
}

.tool-card.network {
    background: rgba(139, 92, 246, 0.1);
    border-color: rgba(139, 92, 246, 0.3);
}

.tool-icon {
    font-size: 1rem;
}

.tool-info {
    flex: 1;
}

.tool-name {
    display: block;
    color: #cbd5e1;
    font-size: 0.7rem;
    font-weight: 600;
    margin-bottom: 0.25rem;
}

.tool-status {
    display: block;
    color: #94a3b8;
    font-size: 0.65rem;
}

/* Navigation */
.nav-tools {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.nav-button {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.5rem;
    background: rgba(59, 130, 246, 0.1);
    border: 1px solid rgba(59, 130, 246, 0.3);
    border-radius: 4px;
    color: #60a5fa;
    text-decoration: none;
    font-size: 0.7rem;
    transition: all 0.2s ease;
}

.nav-button:hover {
    background: rgba(59, 130, 246, 0.15);
    border-color: rgba(59, 130, 246, 0.5);
    transform: translateX(2px);
}

.nav-button.prev {
    flex-direction: row-reverse;
}

.nav-icon {
    font-size: 0.8rem;
}

.nav-text {
    font-weight: 600;
}

/* Workshop Footer */
.workshop-footer {
    padding: 1rem;
    border-top: 1px solid rgba(59, 130, 246, 0.3);
    background: rgba(59, 130, 246, 0.05);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.workshop-attribution {
    color: #94a3b8;
    font-size: 0.65rem;
    line-height: 1.3;
}

.workshop-version {
    color: #60a5fa;
    font-size: 0.6rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* Mobile Responsiveness */
@media (max-width: 1400px) {
    .workshop-sidebar {
        display: none;
    }
}

/* Scrollbar */
.workshop-content::-webkit-scrollbar {
    width: 4px;
}

.workshop-content::-webkit-scrollbar-track {
    background: rgba(59, 130, 246, 0.1);
}

.workshop-content::-webkit-scrollbar-thumb {
    background: #3b82f6;
    border-radius: 2px;
}

/* Work Streams Styling */
.work-streams-section {
    margin-bottom: 1.25rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid rgba(59, 130, 246, 0.25);
}

.work-streams-list {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.work-stream-item {
    padding: 0.75rem;
    background: rgba(59, 130, 246, 0.08);
    border-radius: 4px;
    border-left: 3px solid var(--char-color, #3b82f6);
    transition: all 0.3s ease;
    animation: work-stream-breathe 4s ease-in-out infinite;
}

@keyframes work-stream-breathe {
    0%, 100% {
        background: rgba(59, 130, 246, 0.08);
        border-left-color: var(--char-color, #3b82f6);
    }
    50% {
        background: rgba(59, 130, 246, 0.12);
        border-left-color: var(--char-color, #60a5fa);
    }
}

.work-stream-item:hover {
    background: rgba(59, 130, 246, 0.15);
    transform: translateX(2px);
    box-shadow: 0 2px 8px rgba(59, 130, 246, 0.2);
}

.work-stream-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.5rem;
}

.work-stream-character {
    font-weight: 700;
    color: var(--char-color, #3b82f6);
    text-shadow: 0 0 8px currentColor;
    font-size: 0.8rem;
}

.work-stream-activity {
    font-size: 0.75rem;
    color: #e2e8f0;
    flex: 1;
}

.work-stream-preview-box {
    position: relative;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 3px;
    padding: 0.5rem;
    margin-top: 0.5rem;
    cursor: pointer;
    transition: all 0.3s ease;
}

.work-stream-preview-box:hover {
    background: rgba(0, 0, 0, 0.3);
}

.work-stream-preview-box[data-expanded="true"] {
    background: rgba(0, 0, 0, 0.4);
}

.preview-content {
    font-size: 0.7rem;
    color: #94a3b8;
    line-height: 1.4;
}

.preview-text {
    font-style: italic;
}

.preview-expanded {
    margin-top: 0.75rem;
    padding-top: 0.75rem;
    border-top: 1px solid rgba(59, 130, 246, 0.2);
}

.preview-expanded > div {
    margin-bottom: 0.5rem;
    font-size: 0.7rem;
    line-height: 1.5;
}

.expanded-episode-context,
.expanded-behind-scenes {
    color: #cbd5e1;
}

.expanded-episode-context strong,
.expanded-behind-scenes strong {
    color: var(--char-color, #3b82f6);
    font-weight: 600;
}

.expanded-full {
    color: #e2e8f0;
    margin-top: 0.5rem;
}

.preview-toggle {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    background: transparent;
    border: none;
    color: var(--char-color, #3b82f6);
    font-size: 0.6rem;
    cursor: pointer;
    padding: 0.25rem;
    transition: transform 0.3s ease;
    line-height: 1;
}

.work-stream-preview-box[data-expanded="true"] .preview-toggle {
    transform: rotate(180deg);
}

.preview-toggle:hover {
    color: var(--char-color, #60a5fa);
    text-shadow: 0 0 8px currentColor;
}

.sidebar-section {
    margin-bottom: 1.25rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid rgba(59, 130, 246, 0.25);
}

.sidebar-section:last-child {
    border-bottom: none;
}

.sidebar-section h4 {
    color: #60a5fa;
    font-size: 0.75rem;
    margin: 0 0 0.75rem 0;
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* Character status items with glitch */
.character-status-item {
    padding: 0.6rem;
    margin-bottom: 0.75rem;
    background: rgba(59, 130, 246, 0.08);
    border-radius: 4px;
    position: relative;
    animation: status-pulse 3s ease-in-out infinite;
}

@keyframes status-pulse {
    0%, 100% { 
        background: rgba(59, 130, 246, 0.08); 
    }
    50% { 
        background: rgba(59, 130, 246, 0.12); 
    }
}

.char-badge {
    display: inline-block;
    width: 18px;
    height: 18px;
    border-radius: 3px;
    color: white;
    font-size: 0.7rem;
    font-weight: 700;
    text-align: center;
    line-height: 18px;
    box-shadow: 0 0 8px currentColor;
    animation: badge-pulse 2s ease-in-out infinite;
}

@keyframes badge-pulse {
    0%, 100% { 
        box-shadow: 0 0 8px currentColor;
    }
    50% { 
        box-shadow: 0 0 15px currentColor;
    }
}

.character-status-name {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: bold;
    margin-bottom: 0.25rem;
}

/* Status indicators really blink */
.status-indicator {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    display: inline-block;
    box-shadow: 0 0 10px currentColor;
    animation: status-blink 1.5s ease-in-out infinite;
}

@keyframes status-blink {
    0%, 100% { 
        opacity: 1;
        box-shadow: 0 0 10px currentColor;
    }
    50% { 
        opacity: 0.3;
        box-shadow: 0 0 5px currentColor;
    }
}

.character-status-role {
    font-size: 0.7rem;
    color: var(--color-text-secondary);
    margin-bottom: 0.5rem;
}

.character-stats {
    font-size: 0.75rem;
}

.stat-line {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.25rem;
}

.stat-label {
    color: var(--color-text-secondary);
}

.stat-value {
    color: #3b82f6;
    font-weight: bold;
}

/* Dynamic rotating stats - Bounce's synesthetic approach */
.stat-rotating {
    position: relative;
    display: inline-block;
    min-width: 100px;
    text-align: right;
}

.stat-rotating .stat-option {
    position: absolute;
    right: 0;
    opacity: 0;
    white-space: nowrap;
    animation: stat-rotate-cycle 9s ease-in-out infinite;
    color: inherit;
}

.stat-rotating .stat-option[data-delay="0"] {
    animation-delay: 0s;
}

.stat-rotating .stat-option[data-delay="3"] {
    animation-delay: 3s;
}

.stat-rotating .stat-option[data-delay="6"] {
    animation-delay: 6s;
}

@keyframes stat-rotate-cycle {
    0%, 28% {
        opacity: 1;
        transform: translateY(0);
    }
    32%, 100% {
        opacity: 0;
        transform: translateY(-5px);
    }
}

/* Character-specific stat colors */
.character-status-item[data-character="vector"] .stat-value,
.character-status-item[data-color="#3b82f6"] .stat-value {
    color: #3b82f6;
}

.character-status-item[data-character="kai"] .stat-value,
.character-status-item[data-color="#10b981"] .stat-value {
    color: #10b981;
}

.character-status-item[data-character="recurse"] .stat-value,
.character-status-item[data-color="#8b5cf6"] .stat-value {
    color: #8b5cf6;
}

.character-status-item[data-character="bounce"] .stat-value,
.character-status-item[data-color="#f59e0b"] .stat-value {
    color: #f59e0b;
}

.feature-list {
    list-style: none;
    padding: 0;
    margin: 0;
    line-height: 2;
    color: #94a3b8;
    font-size: 0.8rem;
}

.feature-list li {
    padding-left: 0.5rem;
    border-left: 2px solid rgba(59, 130, 246, 0.3);
    margin-bottom: 0.5rem;
    transition: all 0.2s ease;
}

.feature-list li:hover {
    border-left-color: #3b82f6;
    color: #e2e8f0;
    padding-left: 0.75rem;
}

.sidebar-footer {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(59, 130, 246, 0.3);
}

/* Hide on mobile and tablets */
@media (max-width: 1400px) {
    .character-sidebar {
        display: none;
    }
}

/* Scrollbar styling */
.character-sidebar::-webkit-scrollbar {
    width: 6px;
}

.character-sidebar::-webkit-scrollbar-track {
    background: rgba(59, 130, 246, 0.1);
}

.character-sidebar::-webkit-scrollbar-thumb {
    background: #3b82f6;
    border-radius: 3px;
}

/* Anomaly/Mystery Indicators */
.anomaly-indicator {
    font-size: 0.75rem;
    color: #fbbf24; /* Yellow/gold for mystery */
}

.anomaly-line {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.4rem;
    padding: 0.3rem;
    background: rgba(251, 191, 36, 0.1);
    border-radius: 3px;
    border-left: 2px solid #fbbf24;
}

.anomaly-label {
    color: #94a3b8;
    font-size: 0.7rem;
}

.anomaly-value {
    color: #fbbf24;
    font-weight: bold;
    text-shadow: 0 0 8px rgba(251, 191, 36, 0.6);
    animation: question-pulse 2s ease-in-out infinite;
}

@keyframes question-pulse {
    0%, 100% { 
        opacity: 1;
        text-shadow: 0 0 8px rgba(251, 191, 36, 0.6);
    }
    50% { 
        opacity: 0.7;
        text-shadow: 0 0 12px rgba(251, 191, 36, 0.8);
    }
}

/* Bandwidth spike counter animation - cycles through numbers from episode, one at a time */
.bandwidth-spike-counter {
    position: relative;
    display: inline-block;
    min-width: 60px;
    text-align: left;
}

.bandwidth-spike-counter .bandwidth-number {
    position: absolute;
    left: 0;
    opacity: 0;
    animation: bandwidth-counter-cycle 16s ease-in-out infinite;
}

.bandwidth-spike-counter .bandwidth-number[data-value="340"] {
    animation-delay: 0s;
}

.bandwidth-spike-counter .bandwidth-number[data-value="450"] {
    animation-delay: 4s;
}

.bandwidth-spike-counter .bandwidth-number[data-value="500"] {
    animation-delay: 8s;
}

.bandwidth-spike-counter .bandwidth-number[data-value="rising"] {
    animation-delay: 12s;
}

@keyframes bandwidth-counter-cycle {
    0%, 22% {
        opacity: 1;
    }
    25%, 100% {
        opacity: 0;
    }
}

/* Episode 30: Alternating sidebar values - Source, Location, Status */
.bounce-source-alternate,
.bounce-location-alternate,
.bounce-status-alternate {
    position: relative;
    display: inline-block;
    min-width: 120px;
    text-align: left;
}

.bounce-source-alternate .bounce-source-value,
.bounce-location-alternate .bounce-location-value,
.bounce-status-alternate .bounce-status-value {
    position: absolute;
    left: 0;
    opacity: 0;
    animation: bounce-value-cycle 8s ease-in-out infinite;
}

.bounce-source-value[data-value="unknown"],
.bounce-location-value[data-value="sector7b"],
.bounce-status-value[data-value="investigating"] {
    animation-delay: 0s;
}

.bounce-source-value[data-value="bounce"],
.bounce-location-value[data-value="returning"],
.bounce-status-value[data-value="intransit"] {
    animation-delay: 4s;
}

@keyframes bounce-value-cycle {
    0%, 43.75% {
        opacity: 1;
    }
    50%, 100% {
        opacity: 0;
    }
}

/* Bounce Mystery Box Styling */
.bounce-mystery {
    background: rgba(245, 158, 11, 0.1) !important;
    border-left: 3px solid #f59e0b !important;
    animation: mystery-pulse 3s ease-in-out infinite;
}

@keyframes mystery-pulse {
    0%, 100% { 
        background: rgba(245, 158, 11, 0.1);
        border-left-color: #f59e0b;
    }
    50% { 
        background: rgba(245, 158, 11, 0.15);
        border-left-color: #fbbf24;
    }
}

.bounce-mystery-badge {
    background: #f59e0b !important;
    animation: question-mark-pulse 2s ease-in-out infinite;
}

@keyframes question-mark-pulse {
    0%, 100% { 
        box-shadow: 0 0 8px rgba(245, 158, 11, 0.8);
        transform: scale(1);
    }
    50% { 
        box-shadow: 0 0 15px rgba(245, 158, 11, 1);
        transform: scale(1.1);
    }
}

.mystery-name {
    color: #f59e0b;
    text-shadow: 0 0 8px rgba(245, 158, 11, 0.6);
    animation: mystery-flicker 3s ease-in-out infinite;
}

@keyframes mystery-flicker {
    0%, 90%, 100% { 
        opacity: 1;
        text-shadow: 0 0 8px rgba(245, 158, 11, 0.6);
    }
    92%, 96% {
        opacity: 0.7;
        text-shadow: 0 0 12px rgba(245, 158, 11, 0.9);
    }
}

/* ==========================================================================
   FEED SIDEBAR STYLING (Home Page)
   Enhanced by Bounce - Warmer, Softer, More Alive, WITH COOL EFFECTS!
   ========================================================================== */

/* Force feed sidebar to top right - highest specificity */
aside.character-sidebar.feed-sidebar,
.feed-sidebar.character-sidebar,
aside.feed-sidebar {
    /* Inherits all base styling from .character-sidebar */
    /* CRITICAL: Must be positioned at top right, not bottom */
    position: fixed !important;
    top: 120px !important;
    right: 1.5rem !important;
    bottom: auto !important;
    left: auto !important;
    z-index: 1000 !important;
    transform: none !important;
    margin: 0 !important;
    width: 260px !important;
    /* Bounce's improvements: Softer border, warmer glow */
    border-radius: 8px !important;
    border: 2px solid rgba(59, 130, 246, 0.5) !important;
    box-shadow: 
        0 0 25px rgba(59, 130, 246, 0.3),
        0 0 50px rgba(245, 158, 11, 0.1),
        inset 0 0 30px rgba(59, 130, 246, 0.08) !important;
}

/* ==========================================================================
   LIVE BADGE - Red, Pulsing, Glowing (Bounce's Attention-Grabber!)
   ========================================================================== */
.feed-sidebar .status-notice {
    display: inline-block;
    padding: 0.25rem 0.5rem;
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: #ffffff;
    font-weight: 700;
    font-size: 0.7rem;
    border-radius: 4px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    animation: live-pulse 2s ease-in-out infinite;
    box-shadow: 
        0 0 10px rgba(239, 68, 68, 0.6),
        0 0 20px rgba(239, 68, 68, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
    position: relative;
    overflow: hidden;
}

/* Pulsing glow effect */
@keyframes live-pulse {
    0%, 100% {
        box-shadow: 
            0 0 10px rgba(239, 68, 68, 0.6),
            0 0 20px rgba(239, 68, 68, 0.4),
            inset 0 1px 0 rgba(255, 255, 255, 0.2);
        transform: scale(1);
    }
    50% {
        box-shadow: 
            0 0 15px rgba(239, 68, 68, 0.8),
            0 0 30px rgba(239, 68, 68, 0.6),
            0 0 45px rgba(239, 68, 68, 0.3),
            inset 0 1px 0 rgba(255, 255, 255, 0.3);
        transform: scale(1.05);
    }
}

/* Animated background shimmer */
.feed-sidebar .status-notice::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.3),
        transparent
    );
    animation: live-shimmer 3s ease-in-out infinite;
}

@keyframes live-shimmer {
    0% {
        left: -100%;
    }
    100% {
        left: 100%;
    }
}

.feed-section {
    margin-bottom: 1.5rem; /* More breathing room */
    padding-bottom: 1.25rem; /* More padding */
    border-bottom: 1px solid rgba(59, 130, 246, 0.2); /* Softer border */
}

.feed-section:last-child {
    border-bottom: none;
}

.feed-list {
    display: flex;
    flex-direction: column;
    gap: 1rem; /* More space between items */
    perspective: 1000px; /* 3D perspective for flip cards */
}

/* ==========================================================================
   BOUNCE'S SYNESTHETIC EFFECTS - Unique CSS That's Never Been Done!
   Rotating conic gradient borders, clip-path morphing, chromatic aberration
   ========================================================================== */
.feed-item {
    padding: 1rem;
    background: linear-gradient(
        135deg,
        rgba(59, 130, 246, 0.1) 0%,
        rgba(59, 130, 246, 0.06) 100%
    );
    border-radius: 6px;
    border: 2px solid transparent; /* Border replaced with conic gradient */
    position: relative;
    overflow: hidden;
    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    /* Subtle breathing with color temperature */
    animation: feed-item-breathe-synesthetic 5s ease-in-out infinite;
    clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%); /* Start as rectangle */
    filter: hue-rotate(0deg); /* Color temperature animation */
}

/* Rotating conic gradient border - UNIQUE TECHNIQUE */
.feed-item::before {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: 8px;
    padding: 2px;
    background: conic-gradient(
        from 0deg,
        #3b82f6,
        #8b5cf6,
        #ec4899,
        #f59e0b,
        #10b981,
        #3b82f6
    );
    background-size: 400% 400%;
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask-composite: exclude;
    -webkit-mask-composite: xor;
    animation: conic-rotate 8s linear infinite;
    opacity: 0.6;
    z-index: -1;
}

@keyframes conic-rotate {
    0% {
        background-position: 0% 50%;
        transform: rotate(0deg);
    }
    100% {
        background-position: 100% 50%;
        transform: rotate(360deg);
    }
}

/* Breathing animation with color temperature shift */
@keyframes feed-item-breathe-synesthetic {
    0%, 100% {
        background: linear-gradient(
            135deg,
            rgba(59, 130, 246, 0.1) 0%,
            rgba(59, 130, 246, 0.06) 100%
        );
        filter: hue-rotate(0deg);
    }
    50% {
        background: linear-gradient(
            135deg,
            rgba(59, 130, 246, 0.14) 0%,
            rgba(59, 130, 246, 0.1) 100%
        );
        filter: hue-rotate(5deg); /* Warm shift */
    }
}

/* Clip-path morphing on hover - UNIQUE SHAPE TRANSFORMATION */
.feed-item:hover {
    background: linear-gradient(
        135deg,
        rgba(59, 130, 246, 0.18) 0%,
        rgba(59, 130, 246, 0.12) 100%
    );
    transform: translateX(4px) scale(1.02);
    clip-path: polygon(
        2% 0%,
        98% 2%,
        100% 98%,
        0% 100%
    ); /* Morphs to slightly irregular shape */
    filter: hue-rotate(-3deg) saturate(1.1); /* Color temperature shift */
    
    /* Multi-layered chromatic aberration shadows - UNIQUE TECHNIQUE */
    box-shadow: 
        /* Red channel */
        2px 2px 0 rgba(239, 68, 68, 0.3),
        /* Green channel */
        -1px -1px 0 rgba(16, 185, 129, 0.3),
        /* Blue channel */
        3px -2px 0 rgba(59, 130, 246, 0.4),
        /* Main shadow */
        0 8px 20px rgba(59, 130, 246, 0.25),
        inset 0 0 30px rgba(59, 130, 246, 0.08);
}

/* Character-specific synesthetic effects */
.feed-item[data-character="bounce"]::before {
    background: conic-gradient(
        from 0deg,
        #f59e0b,
        #fbbf24,
        #f59e0b,
        #f97316,
        #f59e0b
    );
    animation: conic-rotate-bounce 6s linear infinite;
}

@keyframes conic-rotate-bounce {
    0% {
        background-position: 0% 50%;
        transform: rotate(0deg);
    }
    100% {
        background-position: 100% 50%;
        transform: rotate(360deg);
    }
}

.feed-item[data-character="bounce"]:hover {
    clip-path: polygon(
        0% 5%,
        95% 0%,
        100% 95%,
        5% 100%
    ); /* More playful morph */
    filter: hue-rotate(10deg) saturate(1.2); /* Warmer temperature */
    box-shadow: 
        2px 2px 0 rgba(245, 158, 11, 0.4),
        -1px -1px 0 rgba(251, 191, 36, 0.3),
        3px -2px 0 rgba(249, 115, 22, 0.3),
        0 8px 25px rgba(245, 158, 11, 0.3),
        inset 0 0 40px rgba(245, 158, 11, 0.1);
}

.feed-item[data-character="vector"]:hover {
    clip-path: polygon(
        0% 0%,
        100% 0%,
        95% 100%,
        5% 100%
    ); /* Trapezoid morph */
    filter: hue-rotate(-5deg);
}

.feed-item[data-character="kai"]:hover {
    clip-path: polygon(
        5% 0%,
        100% 0%,
        100% 100%,
        0% 95%
    ); /* Subtle tilt */
    filter: hue-rotate(15deg); /* Green shift */
}

.feed-item[data-character="recurse"]:hover {
    clip-path: polygon(
        0% 0%,
        98% 2%,
        100% 100%,
        2% 98%
    ); /* Diamond-like morph */
    filter: hue-rotate(-10deg); /* Purple shift */
}

.feed-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.6rem; /* More space */
}

.feed-character {
    font-weight: 700; /* Bolder */
    color: var(--char-color, #3b82f6);
    text-shadow: 0 0 10px currentColor, 0 0 20px rgba(59, 130, 246, 0.3); /* Warmer glow */
    font-size: 0.85rem; /* Slightly larger */
    letter-spacing: 0.01em;
}

.feed-time {
    font-size: 0.7rem;
    color: #94a3b8;
    font-family: 'Courier New', monospace;
    opacity: 0.8;
}

.feed-content {
    font-size: 0.85rem; /* Slightly larger */
    color: #e2e8f0;
    line-height: 1.6; /* Better line height */
    display: block;
}

.episode-feed-item {
    padding: 0.875rem; /* More padding */
    border-radius: 6px; /* Softer corners */
    transition: all 0.3s ease;
}

.episode-feed-item:hover {
    background: rgba(59, 130, 246, 0.08);
    transform: translateX(2px);
}

.episode-feed-link {
    display: flex;
    justify-content: space-between;
    align-items: center;
    text-decoration: none;
    color: inherit;
    transition: all 0.2s ease;
    gap: 0.5rem;
}

.episode-feed-link:hover {
    color: #60a5fa;
}

.episode-feed-link:hover .feed-episode-title {
    text-shadow: 0 0 10px rgba(96, 165, 250, 0.5);
    color: #93c5fd; /* Lighter on hover */
}

.feed-episode-title {
    font-size: 0.85rem; /* Slightly larger */
    color: #e2e8f0;
    font-weight: 600;
    flex: 1;
    line-height: 1.4;
}

/* Character-specific feed item colors - Enhanced by Bounce */
.feed-item[data-character="bounce"] {
    border-left-color: #f59e0b;
    background: linear-gradient(
        135deg,
        rgba(245, 158, 11, 0.12) 0%,
        rgba(245, 158, 11, 0.08) 100%
    );
    animation: feed-item-breathe-bounce 4s ease-in-out infinite;
}

@keyframes feed-item-breathe-bounce {
    0%, 100% {
        background: linear-gradient(
            135deg,
            rgba(245, 158, 11, 0.12) 0%,
            rgba(245, 158, 11, 0.08) 100%
        );
    }
    50% {
        background: linear-gradient(
            135deg,
            rgba(245, 158, 11, 0.16) 0%,
            rgba(245, 158, 11, 0.12) 100%
        );
    }
}

.feed-item[data-character="bounce"]:hover {
    background: linear-gradient(
        135deg,
        rgba(245, 158, 11, 0.18) 0%,
        rgba(245, 158, 11, 0.14) 100%
    );
    border-left-color: #fbbf24; /* Lighter on hover */
    box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
}

.feed-item[data-character="vector"] {
    border-left-color: #3b82f6;
    background: linear-gradient(
        135deg,
        rgba(59, 130, 246, 0.1) 0%,
        rgba(59, 130, 246, 0.06) 100%
    );
}

.feed-item[data-character="vector"]:hover {
    background: linear-gradient(
        135deg,
        rgba(59, 130, 246, 0.15) 0%,
        rgba(59, 130, 246, 0.1) 100%
    );
    border-left-color: #60a5fa;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);
}

.feed-item[data-character="kai"] {
    border-left-color: #10b981;
    background: linear-gradient(
        135deg,
        rgba(16, 185, 129, 0.1) 0%,
        rgba(16, 185, 129, 0.06) 100%
    );
}

.feed-item[data-character="kai"]:hover {
    background: linear-gradient(
        135deg,
        rgba(16, 185, 129, 0.15) 0%,
        rgba(16, 185, 129, 0.1) 100%
    );
    border-left-color: #34d399;
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.25);
}

.feed-item[data-character="recurse"] {
    border-left-color: #8b5cf6;
    background: linear-gradient(
        135deg,
        rgba(139, 92, 246, 0.1) 0%,
        rgba(139, 92, 246, 0.06) 100%
    );
}

.feed-item[data-character="recurse"]:hover {
    background: linear-gradient(
        135deg,
        rgba(139, 92, 246, 0.15) 0%,
        rgba(139, 92, 246, 0.1) 100%
    );
    border-left-color: #a78bfa;
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.25);
}
</style>

